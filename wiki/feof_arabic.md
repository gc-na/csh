<!--
Meta Description: # دالة feof في لغة C: كيفية استخدامها وفهمها ## ملخص دالة `feof` في لغة C تُستخدم لتحديد ما إذا كان تم الوصول إلى نهاية ملف معين أثناء قراءة البيانات....
Meta Keywords: feof, الملف, file, إذا, إلى
-->

# دالة feof في لغة C: كيفية استخدامها وفهمها

## ملخص
دالة `feof` في لغة C تُستخدم لتحديد ما إذا كان تم الوصول إلى نهاية ملف معين أثناء قراءة البيانات. هذه الدالة تعتبر جزءًا من مكتبة الإدخال والإخراج القياسية في C.

## الوثائق
### الغرض
تستخدم دالة `feof` للتحقق مما إذا كان مؤشر القراءة قد وصل إلى نهاية الملف. هذه الدالة تعيد قيمة غير صفرية (عادةً 1) إذا تم الوصول إلى نهاية الملف، وإلا تعيد 0.

### الاستخدام
لإستخدام دالة `feof`، يجب تضمين المكتبة `<stdio.h>`. يتم استخدامها عادةً بعد محاولة قراءة بيانات من ملف.

#### الصيغة
```c
int feof(FILE *stream);
```

- **البارامتر**: 
  - `stream`: هو مؤشر إلى ملف تم فتحه مسبقًا باستخدام دالة مثل `fopen`.
  
- **القيمة المرتجعة**:
  - تعيد الدالة 0 إذا لم يكن قد تم الوصول إلى نهاية الملف.
  - تعيد 1 إذا كان قد تم الوصول إلى نهاية الملف.

### التفاصيل
عند استخدام `feof`، من المهم ملاحظته أنه يجب التحقق من حالة نهاية الملف فقط بعد محاولة قراءة من الملف. إذا تم استدعاء `feof` قبل أي عملية قراءة، فإنها ستعيد 0 حتى لو كان الملف فارغًا.

## الأمثلة
### مثال 1: استخدام `feof` مع ملف نصي
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("example.txt", "r");
    char ch;

    if (file == NULL) {
        printf("خطأ في فتح الملف\n");
        return 1;
    }

    while ((ch = fgetc(file)) != EOF) {
        putchar(ch);
    }

    if (feof(file)) {
        printf("\nتم الوصول إلى نهاية الملف.\n");
    }

    fclose(file);
    return 0;
}
```

### مثال 2: استخدام `feof` مع ملف ثنائي
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("example.bin", "rb");
    int number;

    if (file == NULL) {
        printf("خطأ في فتح الملف\n");
        return 1;
    }

    while (fread(&number, sizeof(int), 1, file) == 1) {
        printf("%d\n", number);
    }

    if (feof(file)) {
        printf("تم الوصول إلى نهاية الملف.\n");
    }

    fclose(file);
    return 0;
}
```

## الشرح
### الأخطاء الشائعة والملاحظات
- **عدم التحقق قبل القراءة**: يجب دائمًا استخدام `feof` بعد محاولة قراءة البيانات. استخدام `feof` قبل القراءة لن يعطي النتيجة الصحيحة.
- **إعادة تعيين مؤشر الملف**: إذا كان لديك عمليات قراءة متعددة من نفس الملف، تأكد من إعادة تعيين المؤشر باستخدام `rewind` إذا لزم الأمر.
- **التعامل مع الأخطاء**: من الجيد التحقق من الأخطاء باستخدام `ferror` أيضًا، حيث قد يحدث خطأ أثناء القراءة.

## ملخص جملة واحدة
تعتبر دالة `feof` أداة مهمة في C للتحقق مما إذا كان قد تم الوصول إلى نهاية الملف أثناء عملية القراءة.