<!--
Meta Description: # C言語における「strcpy」関数の完全ガイド ## 概要 `strcpy`は、C言語において文字列をコピーするための標準ライブラリ関数です。この関数は、ソース文字列を宛先文字列に複製する際に使用され、文字列操作の基本的な機能を提供します。 ## ドキュメンテーション ### 目的 `strcp...
Meta Keywords: strcpy, dest, src, char, destination
-->

# C言語における「strcpy」関数の完全ガイド

## 概要
`strcpy`は、C言語において文字列をコピーするための標準ライブラリ関数です。この関数は、ソース文字列を宛先文字列に複製する際に使用され、文字列操作の基本的な機能を提供します。

## ドキュメンテーション
### 目的
`strcpy`関数は、NULL終端の文字列を他の文字列にコピーするために使用されます。これにより、文字列を簡単に操作することができ、プログラムの柔軟性が向上します。

### 使用法
`strcpy`関数は、次のように宣言されています。

```c
char *strcpy(char *dest, const char *src);
```

- **引数**
  - `dest`: コピー先の文字列を格納するための配列へのポインタ。
  - `src`: コピー元の文字列へのポインタ。

- **戻り値**
  - `dest`のポインタが返されます。

### 詳細
`strcpy`関数は、`src`から`dest`に文字を1文字ずつコピーし、最後にNULL文字（`'\0'`）を追加します。これにより、`dest`は`src`の完全なコピーになります。注意点として、`dest`のサイズが`src`のサイズ以上であることを確認する必要があります。さもないと、バッファオーバーフローが発生し、未定義の動作を引き起こす可能性があります。

## 例
以下は`strcpy`の基本的な使用例です。

```c
#include <stdio.h>
#include <string.h>

int main() {
    char source[] = "Hello, World!";
    char destination[50];

    strcpy(destination, source);

    printf("Copied string: %s\n", destination);
    return 0;
}
```

このプログラムは、`source`から`destination`に文字列をコピーし、コピーされた文字列を出力します。

## 説明
`strcpy`を使用する際の一般的な落とし穴には、以下のようなものがあります。

1. **バッファオーバーフロー**: `dest`が`src`よりも小さい場合、`strcpy`はメモリ領域を越えて書き込むことになり、未定義の動作を引き起こします。使用する前に、`dest`のサイズを確認してください。

2. **NULLポインタ**: `src`または`dest`がNULLの場合、プログラムはクラッシュします。事前にNULLチェックを行うことが重要です。

3. **安全性**: セキュリティ上の理由から、`strncpy`の使用が推奨されることがあります。これは、コピーする文字数を指定できるため、バッファオーバーフローのリスクを軽減します。

## 一文要約
`strcpy`は、C言語において文字列を安全にコピーするための基本的な関数であるが、使用時にはバッファサイズに注意が必要である。