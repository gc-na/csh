<!--
Meta Description: # الدالة bsearch في لغة C: البحث الثنائي ## ملخص تُستخدم الدالة `bsearch` في لغة C لتنفيذ البحث الثنائي في مصفوفة مرتبة، مما يسهل العثور على عنصر معين...
Meta Keywords: const, int, المصفوفة, bsearch, العنصر
-->

# الدالة bsearch في لغة C: البحث الثنائي

## ملخص
تُستخدم الدالة `bsearch` في لغة C لتنفيذ البحث الثنائي في مصفوفة مرتبة، مما يسهل العثور على عنصر معين بسرعة وكفاءة.

## الوثائق
### الغرض
تُستخدم دالة `bsearch` للبحث عن عنصر داخل مصفوفة مرتبة باستخدام خوارزمية البحث الثنائي. هذه الدالة تعيد مؤشر العنصر إذا تم العثور عليه، أو NULL إذا لم يكن العنصر موجودًا.

### الاستخدام
لتفعيل الدالة، يجب تضمين المكتبة القياسية `<stdlib.h>` في برنامجك. يكون شكل الدالة كالتالي:

```c
void* bsearch(const void* key, const void* base, size_t nmemb, size_t size,
              int (*compar)(const void*, const void*));
```

#### المعاملات:
- `key`: العنصر الذي ترغب في البحث عنه.
- `base`: مؤشر إلى بداية المصفوفة المرتبة.
- `nmemb`: عدد العناصر في المصفوفة.
- `size`: حجم كل عنصر في المصفوفة.
- `compar`: دالة مقارنة تحدد كيفية مقارنة العناصر.

### تفاصيل
تتطلب `bsearch` أن تكون المصفوفة مرتبة بترتيب تصاعدي. يجب أن تتضمن دالة المقارنة ثلاث حالات: إذا كان العنصر الأول أقل من، يساوي، أو أكبر من العنصر الثاني.

## أمثلة
### مثال 1: البحث عن عدد صحيح في مصفوفة
```c
#include <stdio.h>
#include <stdlib.h>

int compare(const void* a, const void* b) {
    return (*(int*)a - *(int*)b);
}

int main() {
    int arr[] = {1, 3, 5, 7, 9};
    int key = 5;
    int* result = (int*)bsearch(&key, arr, 5, sizeof(int), compare);
    
    if (result) {
        printf("العنصر %d موجود في المصفوفة.\n", *result);
    } else {
        printf("العنصر غير موجود في المصفوفة.\n");
    }
    return 0;
}
```

### مثال 2: البحث عن سلسلة نصية
```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int compare(const void* a, const void* b) {
    return strcmp(*(const char**)a, *(const char**)b);
}

int main() {
    const char* arr[] = {"apple", "banana", "cherry", "date", "fig"};
    const char* key = "cherry";
    const char** result = (const char**)bsearch(&key, arr, 5, sizeof(const char*), compare);
    
    if (result) {
        printf("العنصر '%s' موجود في المصفوفة.\n", *result);
    } else {
        printf("العنصر غير موجود في المصفوفة.\n");
    }
    return 0;
}
```

## الشرح
### الأخطاء الشائعة والملاحظات
1. **المصفوفة غير مرتبة**: يجب أن تكون المصفوفة مرتبة بشكل صحيح قبل استخدام `bsearch`. إذا لم تكن مرتبة، فإن النتائج ستكون غير صحيحة.
2. **دالة المقارنة**: تأكد من أن دالة المقارنة تعيد القيم الصحيحة (سالب، صفر، موجب) حسب مقارنة العناصر.
3. **استخدام المؤشرات**: تأكد من التعامل مع المؤشرات بشكل صحيح لتجنب أخطاء الوصول إلى الذاكرة.

## ملخص موجز
تُعد `bsearch` دالة قوية للبحث عن عناصر في مصفوفات مرتبة في لغة C، مما يوفر سرعة وكفاءة في العثور على البيانات.