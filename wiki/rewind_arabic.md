<!--
Meta Description: # إعادة التوجيه في لغة C: استخدام الأمر rewind ## ملخص أمر `rewind` في لغة C يُستخدم لإعادة مؤشر الملف إلى بداية الملف المفتوح. يُعتبر هذا الأمر مفيدً...
Meta Keywords: الملف, rewind, file, إلى, buffer
-->

# إعادة التوجيه في لغة C: استخدام الأمر rewind

## ملخص
أمر `rewind` في لغة C يُستخدم لإعادة مؤشر الملف إلى بداية الملف المفتوح. يُعتبر هذا الأمر مفيدًا عند الحاجة لقراءة بيانات ملف عدة مرات دون الحاجة إلى إغلاقه وإعادة فتحه.

## الوثائق
### الغرض
تقوم دالة `rewind` بإعادة مؤشر القراءة/الكتابة إلى بداية الملف. تُستخدم هذه الدالة بشكل شائع في التعامل مع الملفات النصية أو الثنائية عند الحاجة للرجوع إلى البداية بعد قراءة أو كتابة جزء من الملف.

### الاستخدام
تُستخدم دالة `rewind` بالشكل التالي:

```c
#include <stdio.h>

void rewind(FILE *stream);
```

#### المعاملات
- `stream`: مؤشر إلى الملف المفتوح الذي ترغب في إعادة مؤشره إلى البداية.

### التفاصيل
- عند استدعاء `rewind`, يُعيد المؤشر إلى بداية الملف، مما يسمح بالقراءة أو الكتابة مجددًا. 
- لا تُرجع `rewind` قيمة، وبالتالي لا تحتاج لمعالجة أي قيمة إرجاع.
- `rewind` تعتبر آمنة للاستخدام مع الملفات المفتوحة بواسطة دوال مثل `fopen`.

## أمثلة
### المثال 1: إعادة قراءة ملف نصي
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("example.txt", "r");
    char buffer[100];

    if (file) {
        // قراءة السطر الأول
        fgets(buffer, sizeof(buffer), file);
        printf("السطر الأول: %s", buffer);

        // إعادة الملف إلى بدايته
        rewind(file);

        // قراءة السطر الأول مرة أخرى
        fgets(buffer, sizeof(buffer), file);
        printf("السطر الأول مرة أخرى: %s", buffer);

        fclose(file);
    } else {
        printf("فشل في فتح الملف.\n");
    }
    return 0;
}
```

### المثال 2: استخدام rewind مع الكتابة
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("output.txt", "w+");
    
    if (file) {
        // كتابة نص إلى الملف
        fprintf(file, "مرحبا بالعالم!\n");
        
        // إعادة الملف إلى بدايته
        rewind(file);

        // قراءة النص الذي تم كتابته
        char buffer[100];
        fgets(buffer, sizeof(buffer), file);
        printf("النص من الملف: %s", buffer);

        fclose(file);
    } else {
        printf("فشل في فتح الملف.\n");
    }
    return 0;
}
```

## الشرح
- **المشاكل الشائعة**: تأكد من أن الملف مفتوح قبل استدعاء `rewind`. إذا كان الملف مغلقًا أو لم يُفتح بنجاح، فإن استدعاء `rewind` قد يؤدي إلى سلوك غير متوقع.
- **ملاحظات إضافية**: يُفضل استخدام `rewind` مع ملفات مفتوحة في وضع القراءة أو الكتابة. إذا تم استخدام `rewind` على ملف مفتوح في وضع القراءة فقط، فإنه سيعود إلى بداية الملف بدون مشاكل.

## ملخص في جملة واحدة
`rewind` في لغة C يُعيد مؤشر الملف إلى بدايته، مما يسمح بإعادة قراءة محتوى الملف بسهولة.