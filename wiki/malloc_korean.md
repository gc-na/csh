<!--
Meta Description: # C에서의 malloc: 메모리 동적 할당 ## 개요 `malloc`은 C 프로그래밍 언어에서 메모리를 동적으로 할당하기 위한 함수로, 사용자가 필요로 하는 크기만큼의 메모리를 요청하여 사용 후 해제할 수 있는 기능을 제공합니다. ## 문서화 ### 목적 `mallo...
Meta Keywords: malloc, 메모리, int, arr, 메모리를
-->

# C에서의 malloc: 메모리 동적 할당

## 개요
`malloc`은 C 프로그래밍 언어에서 메모리를 동적으로 할당하기 위한 함수로, 사용자가 필요로 하는 크기만큼의 메모리를 요청하여 사용 후 해제할 수 있는 기능을 제공합니다.

## 문서화

### 목적
`malloc` 함수는 프로그램 실행 중에 메모리를 동적으로 할당할 수 있도록 하여, 정적 할당의 한계를 극복합니다. 주로 배열이나 구조체와 같이 런타임에 크기가 결정되는 데이터 구조를 사용할 때 유용합니다.

### 사용법
`malloc` 함수는 `<stdlib.h>` 헤더 파일에 정의되어 있으며, 다음과 같은 형식을 가지고 있습니다:

```c
void* malloc(size_t size);
```

- **size**: 할당할 메모리의 바이트 수입니다.
- **반환값**: 할당에 성공하면 할당된 메모리의 포인터를 반환하고, 실패하면 `NULL`을 반환합니다.

### 예제
기본적인 `malloc` 사용 예는 다음과 같습니다:

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // n개의 정수를 위한 메모리 할당
    arr = (int*)malloc(n * sizeof(int));

    // 메모리 할당 성공 여부 확인
    if (arr == NULL) {
        printf("메모리 할당 실패\n");
        return 1;
    }

    // 배열 초기화 및 출력
    for (int i = 0; i < n; i++) {
        arr[i] = i + 1;
        printf("%d ", arr[i]);
    }

    // 할당한 메모리 해제
    free(arr);
    return 0;
}
```

## 설명
- **메모리 누수**: `malloc`로 할당한 메모리를 사용한 후 반드시 `free` 함수를 사용하여 해제해야 합니다. 그렇지 않으면 메모리 누수가 발생합니다.
- **NULL 체크**: `malloc` 호출 후 반환된 포인터가 `NULL`인지 확인해야 합니다. 메모리 부족 등으로 인해 할당이 실패할 수 있습니다.
- **형 변환**: C는 반환형이 `void*`이므로, 다른 포인터 타입으로 형 변환을 해야 합니다. 하지만 C++에서는 명시적 형 변환이 필요합니다.
- **정확한 크기 요청**: 할당할 메모리의 크기를 정확히 계산해야 하며, 크기를 잘못 지정하면 버퍼 오버플로우 등의 문제가 발생할 수 있습니다.

## 한줄 요약
`malloc`은 C에서 동적으로 메모리를 할당하는 함수로, 메모리 관리에 중요한 역할을 합니다.