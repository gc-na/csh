<!--
Meta Description: # استخدام الدالة system في لغة C: كيفية تنفيذ أوامر النظام ## الملخص الدالة `system` في لغة C تُستخدم لتنفيذ أوامر النظام مباشرة من برنامج C، مما يسمح...
Meta Keywords: system, الأوامر, الدالة, تنفيذ, الأمر
-->

# استخدام الدالة system في لغة C: كيفية تنفيذ أوامر النظام

## الملخص
الدالة `system` في لغة C تُستخدم لتنفيذ أوامر النظام مباشرة من برنامج C، مما يسمح للمبرمجين بتشغيل أوامر خارجية والتفاعل مع نظام التشغيل.

## الوثائق
### الوصف
تقوم الدالة `system` بتنفيذ أمر في نظام التشغيل كعملية فرعية. يتم تعريفها في المكتبة `<stdlib.h>`. تُرجع الدالة قيمة صحيحة تمثل حالة تنفيذ الأمر.

### الاستخدام
لتعريف الدالة:
```c
#include <stdlib.h>

int system(const char *command);
```

- **المعلمة**: 
  - `command`: سلسلة نصية تحتوي على الأمر المراد تنفيذه.

- **القيمة المُرجعة**:
  - تُرجع 0 في حالة النجاح، وأي قيمة أخرى تمثل خطأ أو فشل في تنفيذ الأمر.

### التفاصيل
عند استدعاء `system`، يتم تمرير الأمر إلى مفسر الأوامر (مثل Bash في أنظمة Unix/Linux أو Command Prompt في Windows) ليتم تنفيذه. يمكن استخدام `system` لتشغيل أي أمر متاح في مفسر الأوامر، بما في ذلك الأوامر المعقدة.

## الأمثلة
### مثال 1: تنفيذ أمر بسيط
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int ret = system("echo Hello, World!");
    return ret;
}
```
هذا البرنامج يقوم بطباعة "Hello, World!" في مفسر الأوامر.

### مثال 2: تنفيذ أمر مع إعادة توجيه
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int ret = system("ls > file_list.txt");
    return ret;
}
```
يتم تنفيذ الأمر `ls` لتوليد قائمة الملفات في الدليل الحالي، ويتم توجيه المخرجات إلى ملف `file_list.txt`.

## الشرح
### الأخطاء الشائعة
- **عدم وجود مفسر الأوامر**: إذا كان الأمر غير صالح أو لم يتم العثور على مفسر الأوامر، قد تؤدي الدالة إلى فشل التنفيذ.
- **عدم التعامل مع القيم المُرجعة**: يجب على المبرمج التحقق من القيمة المُرجعة لـ `system` للتأكد من نجاح تنفيذ الأمر.
- **الأمان**: استخدام `system` قد يؤدي إلى هجمات حقن الأوامر. يُنصح بتجنب استخدام أوامر تحتوي على مدخلات من المستخدم دون التحقق منها.

### ملاحظات إضافية
- يُفضل استخدام الدوال الأخرى مثل `fork` و`exec` لتنفيذ أوامر أكثر تعقيدًا، خاصةً عند الحاجة إلى مزيد من التحكم في العمليات.
- `system` تعتبر غير مناسبة للاستخدام في التطبيقات التي تحتاج إلى أداء عالي، بسبب إنشاء عملية جديدة لكل استدعاء.

## ملخص بعبارة واحدة
الدالة `system` في لغة C تُستخدم لتنفيذ أوامر النظام مباشرة، مما يوفر وسيلة سهلة للتفاعل مع مفسر الأوامر.