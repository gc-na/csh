<!--
Meta Description: # __FILE__: التعريف والاستخدام في لغة C ## الملخص `__FILE__` هو ماكرو مُعرف مسبقًا في لغة C يُستخدم للإشارة إلى اسم الملف المصدر الذي يتم تجميعه. يُعت...
Meta Keywords: __file__, الملف, اسم, يتم, ستخدم
-->

# __FILE__: التعريف والاستخدام في لغة C

## الملخص
`__FILE__` هو ماكرو مُعرف مسبقًا في لغة C يُستخدم للإشارة إلى اسم الملف المصدر الذي يتم تجميعه. يُعتبر من الأدوات المفيدة لتتبع الأخطاء وتحسين قراءة الشيفرة المصدرية.

## الوثائق
### الغرض
يُستخدم الماكرو `__FILE__` لتمكين المطورين من الحصول على اسم الملف خلال عملية التجميع. يُعزز هذا الماكرو إمكانية التتبع من خلال توفير معلومات دقيقة حول الموقع الذي حدث فيه الخطأ أو التحذير.

### الاستخدام
يتم استخدام `__FILE__` بشكل شائع في عبارات الطباعة، خاصة في رسائل الخطأ أو التسجيل. يتم استبدال `__FILE__` تلقائيًا باسم الملف الحالي عند التجميع.

### التفاصيل
- يتم تعريف `__FILE__` كقيمة نصية (string literal) تحتوي على اسم الملف المصدر.
- يتم استخدامه بشكل أساسي مع دالة `printf` أو في سياقات أخرى تتطلب اسم الملف.
- لا يتطلب `__FILE__` أي إدخال من المستخدم، حيث يتم تضمينه بشكل تلقائي من قبل مترجم C.

## أمثلة
### مثال 1: استخدام __FILE__ في رسالة خطأ
```c
#include <stdio.h>

int main() {
    printf("حدث خطأ في الملف: %s\n", __FILE__);
    return 0;
}
```

### مثال 2: استخدام __FILE__ مع دالة assert
```c
#include <stdio.h>
#include <assert.h>

#define ASSERT(expr) \
    if (!(expr)) { \
        fprintf(stderr, "فشل الاختبار في %s، السطر %d\n", __FILE__, __LINE__); \
        assert(expr); \
    }

int main() {
    int x = 5;
    ASSERT(x == 10);
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
- قد يعتقد بعض المطورين أن `__FILE__` يمكن أن يُستخدم لتحديد مسار الملف الكامل، لكنه يُعيد فقط اسم الملف. للحصول على المسار الكامل، يجب استخدام طرق أخرى مثل استخدام `getcwd` في أنظمة تشغيل معينة.
- يجب الانتباه إلى أن `__FILE__` لا يُحدّث إذا تم تضمين الملف في ملفات أخرى، بل سيكون اسم الملف الأصلي هو المُستخدم.

### ملاحظات إضافية
- يستخدم `__FILE__` مع الماكرو `__LINE__` للحصول على معلومات أكثر تفصيلًا عن مكان حدوث المشكلة في الشيفرة.
- يعتبر `__FILE__` جزءًا من مجموعة من الماكروهات الخاصة بالتجميع في C، مثل `__DATE__` (تاريخ التجميع) و`__TIME__` (وقت التجميع).

## ملخص بجملة واحدة
`__FILE__` هو ماكرو في لغة C يُستخدم للإشارة إلى اسم الملف المصدر أثناء عملية التجميع، مما يُسهل تتبع الأخطاء وتحسين الشيفرة.