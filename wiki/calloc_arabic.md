<!--
Meta Description: # calloc في لغة C: تخصيص الذاكرة بشكل ديناميكي ## ملخص `calloc` هي دالة في لغة البرمجة C تُستخدم لتخصيص الذاكرة ديناميكياً. تتميز `calloc` بأنها تقوم ...
Meta Keywords: الذاكرة, calloc, int, students, تخصيص
-->

# calloc في لغة C: تخصيص الذاكرة بشكل ديناميكي

## ملخص
`calloc` هي دالة في لغة البرمجة C تُستخدم لتخصيص الذاكرة ديناميكياً. تتميز `calloc` بأنها تقوم بتخصيص الذاكرة لعدد محدد من العناصر، وتقوم بتهيئة تلك الذاكرة إلى صفر.

## الوثائق
### الغرض
الغرض من `calloc` هو تخصيص الذاكرة للبرامج التي تحتاج إلى ذاكرة ديناميكية، مما يسمح بزيادة كفاءة استخدام الذاكرة. تستخدم `calloc` بشكل رئيسي في حالات الحاجة إلى مصفوفات أو هياكل بيانات ديناميكية.

### الاستخدام
تُستخدم `calloc` بالطريقة التالية:

```c
ptr = (type *)calloc(n, size);
```

- **n**: عدد العناصر التي تحتاج إلى تخصيصها.
- **size**: حجم كل عنصر (بالبايت).

تُعيد `calloc` مؤشرًا إلى الذاكرة المخصصة. إذا واجهت مشكلة في تخصيص الذاكرة، ستعيد `calloc` NULL.

### التفاصيل
- تتطلب `calloc` تضمين المكتبة `<stdlib.h>`.
- على عكس `malloc`، فإن `calloc` تقوم بتهيئة الذاكرة المخصصة إلى صفر، مما قد يساعد في تجنب الأخطاء الناتجة عن استخدام ذاكرة غير مهيأة.
- يجب عليك دائمًا تحرير الذاكرة المخصصة باستخدام `free` لتجنب تسرب الذاكرة.

## الأمثلة
### مثال 1: تخصيص مصفوفة من الأعداد الصحيحة
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    arr = (int *)calloc(n, sizeof(int));
    if (arr == NULL) {
        printf("فشل تخصيص الذاكرة\n");
        return 1;
    }

    for (int i = 0; i < n; i++) {
        printf("arr[%d] = %d\n", i, arr[i]);
    }

    free(arr);
    return 0;
}
```

### مثال 2: تخصيص هيكل بيانات
```c
#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int id;
    char name[50];
} Student;

int main() {
    int n = 3;
    Student *students;

    students = (Student *)calloc(n, sizeof(Student));
    if (students == NULL) {
        printf("فشل تخصيص الذاكرة\n");
        return 1;
    }

    // إضافة بيانات إلى الهياكل
    for (int i = 0; i < n; i++) {
        students[i].id = i + 1;
        snprintf(students[i].name, sizeof(students[i].name), "طالب %d", i + 1);
    }

    for (int i = 0; i < n; i++) {
        printf("ID: %d, Name: %s\n", students[i].id, students[i].name);
    }

    free(students);
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
1. **نسيان تحرير الذاكرة**: التأكد من استخدام `free` بعد الانتهاء من استخدام الذاكرة المخصصة لتجنب تسرب الذاكرة.
2. **تخصيص حجم غير صحيح**: التأكد من أن `size` هو الحجم الصحيح للنوع الذي تريد تخصيصه.
3. **استخدام الذاكرة قبل التحقق من تخصيصها**: يجب التحقق من أن المؤشر ليس NULL قبل استخدام الذاكرة.

## ملخص جملة واحدة
`calloc` هي دالة في C تُستخدم لتخصيص الذاكرة ديناميكياً مع تهيئة الذاكرة إلى صفر.