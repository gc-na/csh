<!--
Meta Description: # استخدام دالة sprintf في لغة C: دليل شامل ## ملخص دالة `sprintf` في لغة C تُستخدم لتنسيق النصوص وإخراجها إلى سلسلة نصية بدلاً من الإخراج المباشر إلى ...
Meta Keywords: sprintf, buffer, سلسلة, السلسلة, دالة
-->

# استخدام دالة sprintf في لغة C: دليل شامل

## ملخص
دالة `sprintf` في لغة C تُستخدم لتنسيق النصوص وإخراجها إلى سلسلة نصية بدلاً من الإخراج المباشر إلى الشاشة. هذه الدالة تُعتبر أداة قوية لتوليد النصوص المعقدة بسهولة.

## الوثائق
### الغرض
دالة `sprintf` تُستخدم لتنسيق سلسلة نصية وفقًا لقالب معين، حيث يمكنك إدخال متغيرات متعددة في النص بتنسيق محدد. تُعتبر هذه الدالة جزءًا من مكتبة `stdio.h`.

### الاستخدام
صيغة الدالة:
```c
int sprintf(char *str, const char *format, ...);
```
- **str**: مؤشر إلى سلسلة الحروف التي سيتم حفظ النص المنسق فيها.
- **format**: سلسلة تنسيق تحتوي على النصوص والمتغيرات، والتي يمكن أن تتضمن أنواع بيانات مختلفة مثل الأعداد الصحيحة، الفواصل العشرية، وغيرها.
- **...**: متغيرات إضافية يتم إدخالها وفقًا لسلسلة التنسيق.

### تفاصيل
- تُرجع الدالة عدد الأحرف المكتوبة في السلسلة.
- لا تقوم `sprintf` بإضافة نهاية السلسلة (`\0`) تلقائيًا.
- يجب التأكد من أن السلسلة المستهدفة (str) تحتوي على سعة كافية لاستيعاب النص الناتج.

## الأمثلة
### مثال 1: تنسيق نص بسيط
```c
#include <stdio.h>

int main() {
    char buffer[100];
    int age = 30;
    sprintf(buffer, "أنا عمري %d سنة", age);
    printf("%s\n", buffer);
    return 0;
}
```
### مثال 2: تنسيق الأعداد العشرية
```c
#include <stdio.h>

int main() {
    char buffer[100];
    float pi = 3.14159;
    sprintf(buffer, "قيمة باي تقريباً هي %.2f", pi);
    printf("%s\n", buffer);
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
- **حجم السلسلة**: أحد الأخطاء الشائعة هو عدم تخصيص مساحة كافية للسلسلة `str`. إذا كانت السلسلة صغيرة جدًا، يمكن أن يحدث تجاوز في الذاكرة (Buffer Overflow).
- **عدم استخدام النهاية**: التأكد من أن السلسلة تحتوي على نهاية صحيحة (`\0`) لتجنب سلوك غير متوقع عند استخدامها لاحقًا.
- **إدخال أنواع غير صحيحة**: يجب أن تكون الأنواع المستخدمة في المتغيرات متوافقة مع الأنواع المحددة في سلسلة التنسيق.

## ملخص في جملة واحدة
دالة `sprintf` في لغة C تُستخدم لتنسيق النصوص وحفظها في سلسلة نصية، مما يسمح بإدخال متغيرات متعددة بطريقة بسيطة ومنظمة.