<!--
Meta Description: # __STDC__：C语言中的标准宏 ## 摘要 `__STDC__` 是C语言中的一个预定义宏，用于指示编译器是否遵循标准C规范。 ## 文档 `__STDC__` 是一个在标准C编译器中自动定义的宏。其主要目的是提供一种方法，允许程序员检测编译器是否支持ANSI C标准（C89/C90）。如果...
Meta Keywords: __stdc__, ifdef, else, endif, printf
-->

# __STDC__：C语言中的标准宏

## 摘要
`__STDC__` 是C语言中的一个预定义宏，用于指示编译器是否遵循标准C规范。

## 文档
`__STDC__` 是一个在标准C编译器中自动定义的宏。其主要目的是提供一种方法，允许程序员检测编译器是否支持ANSI C标准（C89/C90）。如果编译器支持标准C，则该宏的值为1；如果不支持，则该宏未定义。

### 用法
在C代码中，可以通过以下方式检查`__STDC__`的定义：

```c
#ifdef __STDC__
    // 代码在标准C编译器下编译
#else
    // 代码在非标准C编译器下编译
#endif
```

### 详细信息
- **目的**：`__STDC__` 主要用于条件编译，以确保代码的可移植性和兼容性。它使得程序员能够编写针对不同编译器的代码。
- **值**：当使用符合ANSI C标准的编译器（如GCC、Clang等）时，`__STDC__`的值为1。在不支持的编译器中，该宏则不会被定义。
- **扩展性**：除了`__STDC__`外，某些编译器还会定义其他相关宏，如`__STDC_VERSION__`，用于指示使用的C标准版本。

## 示例
以下示例展示了如何使用`__STDC__`宏：

```c
#include <stdio.h>

int main() {
#ifdef __STDC__
    printf("本编译器支持标准C。\n");
#else
    printf("本编译器不支持标准C。\n");
#endif
    return 0;
}
```

在使用标准C编译器的情况下，输出将为“本编译器支持标准C。”

## 解释
- **常见问题**：在某些非标准编译器中，`__STDC__`可能完全未定义，导致条件编译时出现问题。确保在移植代码时进行充分测试。
- **注意事项**：尽管大多数现代编译器都支持标准C，但仍然存在一些旧版或专用编译器可能不支持这一标准，因此在编写可移植代码时应谨慎使用。

## 一句话总结
`__STDC__` 是一个指示编译器是否遵循标准C规范的预定义宏。