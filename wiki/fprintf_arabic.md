<!--
Meta Description: # الدالة fprintf في لغة C: الاستخدامات والميزات ## ملخص الدالة `fprintf` في لغة C تُستخدم لكتابة البيانات إلى ملف بصيغة مُنسّقة، مما يتيح للمستخدم الت...
Meta Keywords: file, fprintf, الدالة, الملف, إلى
-->

# الدالة fprintf في لغة C: الاستخدامات والميزات

## ملخص
الدالة `fprintf` في لغة C تُستخدم لكتابة البيانات إلى ملف بصيغة مُنسّقة، مما يتيح للمستخدم التحكم الكامل في كيفية عرض البيانات.

## الوثائق
### الغرض
تُستخدم الدالة `fprintf` لكتابة نصوص مُنسّقة إلى ملف محدد، مما يمنح المطورين القدرة على التحكم في تنسيق البيانات المُخرجة.

### الاستخدام
تُستخدم `fprintf` بالشكل التالي:

```c
int fprintf(FILE *stream, const char *format, ...);
```

- `stream`: هو مؤشر إلى الملف الذي سيتم الكتابة فيه. يجب أن يكون هذا الملف قد تم فتحه باستخدام الدالة `fopen`.
- `format`: هو سلسلة تنسيق تحدد كيفية تنسيق البيانات المُدخلة.
- `...`: تمثل الوسائط الإضافية التي سيتم تنسيقها وفقًا لسلسلة التنسيق.

### التفاصيل
- تُعيد الدالة `fprintf` عدد الأحرف التي تم كتابتها، أو قيمة سالبة في حالة حدوث خطأ.
- يجب التأكد من فتح الملف في وضع الكتابة (`"w"`, `"a"`، أو وضع الكتابة والقراءة `"r+"`) قبل استخدام `fprintf`.

## أمثلة
### مثال 1: كتابة نص عادي إلى ملف
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("output.txt", "w");
    if (file != NULL) {
        fprintf(file, "مرحبًا بالعالم!\n");
        fclose(file);
    }
    return 0;
}
```

### مثال 2: كتابة بيانات منسقة
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("data.txt", "w");
    if (file != NULL) {
        int age = 25;
        fprintf(file, "الاسم: %s, العمر: %d\n", "أحمد", age);
        fclose(file);
    }
    return 0;
}
```

### مثال 3: كتابة أرقام عشرية
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("float.txt", "w");
    if (file != NULL) {
        float pi = 3.14159;
        fprintf(file, "قيمة باي: %.2f\n", pi);
        fclose(file);
    }
    return 0;
}
```

## الشرح
- **الأخطاء الشائعة**: تأكد من فتح الملف بشكل صحيح. إذا تم فتح الملف في وضع القراءة فقط، ستظهر أخطاء عند محاولة الكتابة.
- **التنسيق**: استخدم سلسلة التنسيق بشكل صحيح. على سبيل المثال، استخدام `%d` للأعداد الصحيحة و`%f` للأعداد العشرية.
- **إدارة الموارد**: تأكد من إغلاق الملف باستخدام `fclose` بعد الانتهاء من الكتابة لتجنب تسرب الموارد.

## ملخص جملة واحدة
تُستخدم الدالة `fprintf` في C لكتابة بيانات مُنسّقة إلى ملف، مما يوفر تحكماً دقيقاً في تنسيق الإخراج.