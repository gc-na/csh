<!--
Meta Description: # C言語のstrncmp関数: 文字列の比較とその使用法 ## 概要 `strncmp`は、C言語において2つの文字列を指定したバイト数まで比較するための関数です。この関数は、部分文字列の比較や、特定の長さの文字列を比較する際に非常に便利です。 ## ドキュメンテーション ### 目的 `strn...
Meta Keywords: strncmp, const, char, printf, str1
-->

# C言語のstrncmp関数: 文字列の比較とその使用法

## 概要
`strncmp`は、C言語において2つの文字列を指定したバイト数まで比較するための関数です。この関数は、部分文字列の比較や、特定の長さの文字列を比較する際に非常に便利です。

## ドキュメンテーション

### 目的
`strncmp`関数は、2つの文字列を最大nバイトまで比較し、その結果を整数値で返します。この関数は、ソートや検索アルゴリズムなど、文字列の順序を確認する必要がある場合に使用されます。

### 使用法
関数の宣言は以下の通りです：

```c
int strncmp(const char *s1, const char *s2, size_t n);
```

#### 引数
- `s1`: 比較する最初の文字列。
- `s2`: 比較する2番目の文字列。
- `n`: 比較する最大バイト数。

#### 戻り値
- `0`: 文字列が等しい場合。
- 負の値: `s1`が`s2`よりも小さい場合。
- 正の値: `s1`が`s2`よりも大きい場合。

### 注意点
- 比較は文字列の先頭から始まり、nバイトまたはいずれかの文字列が終端に達するまで続きます。
- `strncmp`は、文字列の長さが`n`より小さい場合でも、終端文字（NULL文字）を考慮します。

## 例

### 基本的な使用例
以下は`strncmp`を使用した基本的な例です。

```c
#include <stdio.h>
#include <string.h>

int main() {
    const char *str1 = "Hello, World!";
    const char *str2 = "Hello, World!";
    const char *str3 = "Hello, C!";
    
    if (strncmp(str1, str2, 13) == 0) {
        printf("str1とstr2は等しいです。\n");
    } else {
        printf("str1とstr2は異なります。\n");
    }

    if (strncmp(str1, str3, 5) == 0) {
        printf("str1とstr3の最初の5文字は等しいです。\n");
    } else {
        printf("str1とstr3の最初の5文字は異なります。\n");
    }

    return 0;
}
```

### 出力
```
str1とstr2は等しいです。
str1とstr3の最初の5文字は等しいです。
```

## 説明
`strncmp`を使用する際の一般的な落とし穴には、nの指定ミスや、NULLポインタの扱いがあります。特に、nが2つの文字列のいずれかの長さを超えた場合でも、`strncmp`は正しく動作しますが、意図しない比較結果を得る可能性があります。また、NULLポインタを引数として渡すと、未定義動作になるため、注意が必要です。

## 1行要約
`strncmp`は、C言語で2つの文字列を最大nバイトまで比較し、その結果を整数値で返す関数です。