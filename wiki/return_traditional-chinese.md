<!--
Meta Description: # C 語言中的 "return" 關鍵字：功能與用法詳解 ## 概述 在 C 語言中，`return` 關鍵字用於從函數返回值或結束函數的執行，是函數控制流的重要組成部分。 ## 文檔 ### 目的 `return` 主要用於： 1. 結束函數的執行。 2. 將計算結果或狀態值返回給調用者。 ##...
Meta Keywords: return, int, void, main, add
-->

# C 語言中的 "return" 關鍵字：功能與用法詳解

## 概述
在 C 語言中，`return` 關鍵字用於從函數返回值或結束函數的執行，是函數控制流的重要組成部分。

## 文檔
### 目的
`return` 主要用於：
1. 結束函數的執行。
2. 將計算結果或狀態值返回給調用者。

### 用法
`return` 語句的基本語法如下：
```c
return [表達式];
```
- `表達式` 是可選的，當提供時，它的值會被返回到函數的調用者。
- 如果函數返回類型為 `void`，則不需要包含表達式。

### 詳細說明
- 在 C 語言中，每個函數都可以使用 `return` 語句來結束其執行。當 `return` 被執行時，函數的控制權將返回到調用該函數的位置。
- 如果函數定義了返回類型（例如 `int`、`float` 等），則返回的表達式必須與該類型相符。如果函數的返回類型是 `void`，則 `return` 語句不能返回任何值。
- `return` 語句也可以用於提前退出函數，這在某些條件下非常有用，例如處理錯誤或特殊情況。

## 示例
### 基本用法
```c
#include <stdio.h>

// 函數返回整數
int add(int a, int b) {
    return a + b; // 返回兩數之和
}

int main() {
    int sum = add(3, 5); // 調用 add 函數
    printf("Sum: %d\n", sum); // 輸出結果
    return 0; // 結束 main 函數
}
```

### void 函數示例
```c
#include <stdio.h>

// 無返回值的函數
void greet() {
    printf("Hello, World!\n");
}

int main() {
    greet(); // 調用 greet 函數
    return 0; // 結束 main 函數
}
```

## 解釋
### 常見陷阱
- **未返回值**：如果函數的返回類型不是 `void`，但沒有提供 `return` 語句或返回值，則行為是未定義的，這可能導致程序錯誤或不穩定。
- **類型不匹配**：返回的表達式必須與函數的返回類型一致，否則將會產生編譯錯誤。
- **多重返回**：在一個函數中可以有多個 `return` 語句，但應注意確保每個可能的執行路徑都能正確返回值。

## 一句總結
`return` 是 C 語言中用於結束函數執行並返回值的重要關鍵字。