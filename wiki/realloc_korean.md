<!--
Meta Description: # C 언어의 realloc: 메모리 재할당 함수 ## 개요 `realloc` 함수는 C 프로그래밍 언어에서 동적으로 할당된 메모리 블록의 크기를 변경하는 데 사용됩니다. 이 함수는 기존 메모리 블록을 크기 조정하고, 필요에 따라 새로운 메모리 블록으로 데이터를 이동시...
Meta Keywords: 메모리, realloc, int, array, 블록의
-->

# C 언어의 realloc: 메모리 재할당 함수

## 개요
`realloc` 함수는 C 프로그래밍 언어에서 동적으로 할당된 메모리 블록의 크기를 변경하는 데 사용됩니다. 이 함수는 기존 메모리 블록을 크기 조정하고, 필요에 따라 새로운 메모리 블록으로 데이터를 이동시킵니다.

## 문서화
### 목적
`realloc` 함수는 이미 할당된 메모리의 크기를 수정하여, 더 많은 메모리 공간이 필요할 때 유용하게 사용됩니다. 이 함수는 메모리의 재사용을 가능하게 하여 메모리 관리 효율성을 높입니다.

### 사용법
`realloc` 함수의 기본 구문은 다음과 같습니다:

```c
void* realloc(void* ptr, size_t new_size);
```

- **ptr**: 재할당할 메모리 블록의 포인터입니다. 이 포인터는 `malloc`, `calloc`, 또는 이전의 `realloc` 호출로 할당된 메모리를 가리켜야 합니다.
- **new_size**: 재할당할 메모리 블록의 새로운 크기(바이트 단위)입니다.

### 반환값
- 성공적으로 재할당된 메모리 블록의 포인터를 반환합니다.
- 메모리 할당에 실패할 경우, `NULL`을 반환하며 기존 메모리 블록은 변하지 않습니다.

## 예제
### 기본 사용 예제
아래의 예제는 `realloc`을 사용하여 배열의 크기를 늘리는 방법을 보여줍니다.

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int* array = malloc(5 * sizeof(int)); // 초기 메모리 할당
    if (array == NULL) {
        return 1; // 메모리 할당 실패
    }

    // 배열에 값 저장
    for (int i = 0; i < 5; i++) {
        array[i] = i + 1;
    }

    // 배열 크기 재할당
    int new_size = 10;
    int* temp = realloc(array, new_size * sizeof(int));
    if (temp == NULL) {
        free(array); // 메모리 할당 실패 시 기존 메모리 해제
        return 1;
    }
    array = temp; // 새 포인터로 업데이트

    // 재할당된 메모리에 값 저장
    for (int i = 5; i < new_size; i++) {
        array[i] = i + 1;
    }

    // 결과 출력
    for (int i = 0; i < new_size; i++) {
        printf("%d ", array[i]);
    }

    // 메모리 해제
    free(array);
    return 0;
}
```

## 설명
### 일반적인 실수 및 주의사항
- **NULL 포인터 처리**: `realloc` 호출 후 반환된 포인터가 `NULL`일 경우, 기존 포인터는 여전히 유효하므로, 이를 해제하기 전에 반드시 체크해야 합니다.
- **포인터 업데이트**: `realloc`은 새로운 메모리 블록의 주소를 반환할 수 있으므로, 이를 기존 포인터에 직접 대입하기 전에 반드시 임시 포인터를 사용해야 합니다.
- **메모리 누수 방지**: `realloc`에 실패하면 기존 메모리가 해제되지 않으므로, 이를 적절히 관리해야 합니다.

## 한 줄 요약
`realloc`은 C에서 동적으로 할당된 메모리 블록의 크기를 변경하는 함수로, 메모리 관리의 유연성을 제공합니다.