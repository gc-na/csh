<!--
Meta Description: # استخدام الدالة strftime في لغة C: دليل شامل ## الملخص الدالة `strftime` في لغة C تُستخدم لتنسيق التواريخ والأوقات إلى سلسلة نصية وفقًا لنمط محدد. تُ...
Meta Keywords: strftime, الدالة, إلى, buffer, استخدام
-->

# استخدام الدالة strftime في لغة C: دليل شامل

## الملخص
الدالة `strftime` في لغة C تُستخدم لتنسيق التواريخ والأوقات إلى سلسلة نصية وفقًا لنمط محدد. تُعتبر هذه الدالة أداة قوية لتحويل المعلومات الزمنية إلى شكل يمكن قراءته بسهولة.

## الوثيقة
### الهدف
تُستخدم الدالة `strftime` لتحويل هيكل الوقت (`struct tm`) إلى سلسلة نصية تمثل التاريخ والوقت بتنسيق محدد. تستطيع هذه الدالة دعم تنسيقات متعددة لتناسب احتياجات المستخدمين المختلفة.

### الاستخدام
تتطلب دالة `strftime` ثلاثة وسيطات رئيسية:
1. **s**: سلسلة النص الهدف التي سيتم تخزين النتيجة فيها.
2. **maxsize**: الحد الأقصى لحجم السلسلة النصية.
3. **format**: نمط التنسيق الذي يتم استخدامه لتحويل الوقت.
4. **timeptr**: مؤشر إلى هيكل `struct tm` الذي يحتوي على المعلومات الزمنية المراد تنسيقها.

#### التوقيع
```c
size_t strftime(char *s, size_t maxsize, const char *format, const struct tm *timeptr);
```

### التفاصيل
- **العودة**: تعيد الدالة عدد الأحرف التي تم كتابتها في السلسلة النصية، أو 0 إذا كان طول السلسلة النصية أكبر من `maxsize`.
- **التنسيق**: يمكن استخدام رموز مختلفة في `format` مثل:
  - `%Y`: السنة بأربعة أرقام.
  - `%m`: رقم الشهر (01-12).
  - `%d`: رقم اليوم (01-31).
  - `%H`: الساعة (00-23).
  - `%M`: الدقيقة (00-59).
  - `%S`: الثانية (00-60).
  
يمكن دمج هذه الرموز لإنشاء تنسيق مخصص.

## الأمثلة
### مثال 1: تنسيق تاريخ بسيط
```c
#include <stdio.h>
#include <time.h>

int main() {
    time_t t = time(NULL);
    struct tm *tm_info = localtime(&t);
    char buffer[80];

    strftime(buffer, 80, "التاريخ هو: %Y-%m-%d", tm_info);
    printf("%s\n", buffer);
    return 0;
}
```

### مثال 2: تنسيق تاريخ ووقت
```c
#include <stdio.h>
#include <time.h>

int main() {
    time_t t = time(NULL);
    struct tm *tm_info = localtime(&t);
    char buffer[80];

    strftime(buffer, 80, "التاريخ والوقت هو: %Y-%m-%d %H:%M:%S", tm_info);
    printf("%s\n", buffer);
    return 0;
}
```

## الشرح
### الأخطاء الشائعة
- **حجم السلسلة النصية**: تأكد من أن `maxsize` كافٍ لاستيعاب النتيجة، وإلا ستعيد الدالة 0.
- **الرموز غير المعروفة**: استخدام رموز غير مدعومة في `format` قد يؤدي إلى نتائج غير متوقعة.
- **الوقت المحلي**: تأكد من استخدام `localtime` للحصول على الوقت المحلي بدلاً من `gmtime` إذا كنت بحاجة إلى التنسيق بناءً على المنطقة الزمنية المحلية.

### ملاحظات إضافية
- يمكن استخدام `strftime` في تطبيقات متعددة مثل السجلات، واجهات المستخدم، أو أي تطبيق يحتاج إلى عرض الوقت والتاريخ بشكل مناسب.
- تأكد من التعامل مع القيم المرتجعة بشكل صحيح لتجنب الأخطاء في التنفيذ.

## ملخص جملة واحدة
الدالة `strftime` في لغة C تُستخدم لتنسيق التواريخ والأوقات إلى سلسلة نصية بتنسيقات مخصصة، مما يسمح بعرض المعلومات الزمنية بشكل واضح وسهل القراءة.