<!--
Meta Description: # C 語言中的 strcpy 函數詳解 ## 簡介 `strcpy` 是 C 語言中的一個標準庫函數，用於將一個字符串複製到另一個字符串中。它是字符串處理的重要工具之一，廣泛應用於各種 C 程式設計中。 ## 文檔 ### 目的 `strcpy` 函數的主要目的是將源字符串（source）中的字符...
Meta Keywords: strcpy, dest, src, char, 包括結尾的空字符
-->

# C 語言中的 strcpy 函數詳解

## 簡介
`strcpy` 是 C 語言中的一個標準庫函數，用於將一個字符串複製到另一個字符串中。它是字符串處理的重要工具之一，廣泛應用於各種 C 程式設計中。

## 文檔
### 目的
`strcpy` 函數的主要目的是將源字符串（source）中的字符複製到目標字符串（destination），包括結尾的空字符（null terminator）。

### 使用方法
`strcpy` 函數的基本語法如下：
```c
char *strcpy(char *dest, const char *src);
```
- `dest`：目標字符串的指針，必須有足夠的空間來存放複製的字符串。
- `src`：源字符串的指針，這個字符串將被複製到 `dest` 中。

### 返回值
返回 `dest` 的指針。

### 需要包含的標頭文件
使用 `strcpy` 函數時，需要包含 `<string.h>` 標頭文件。

## 例子
以下是 `strcpy` 的基本使用例子：

```c
#include <stdio.h>
#include <string.h>

int main() {
    char src[] = "Hello, World!";
    char dest[50];

    strcpy(dest, src);
    printf("複製的字符串是: %s\n", dest);

    return 0;
}
```

## 解釋
### 常見陷阱
1. **目標字符串空間不足**：如果 `dest` 的大小不足以容納 `src` 的內容（包括結尾的空字符），會導致緩衝區溢出，這可能會引發未定義行為。
2. **不正確的指針類型**：確保使用正確類型的指針。`dest` 應為可修改的字符數組，而 `src` 通常是常量字符。
3. **空指針**：如果 `src` 或 `dest` 是空指針，將會導致程式崩潰。

### 額外注意事項
- `strcpy` 不會檢查字符串長度，因此在使用時要特別小心，以防止緩衝區溢出。
- 對於更安全的字符串複製，建議使用 `strncpy` 函數，它允許指定複製的最大字符數量，從而提供一定的安全性。

## 一句總結
`strcpy` 函數用於將源字符串複製到目標字符串中，但使用時需特別注意目標空間的大小以避免緩衝區溢出。