<!--
Meta Description: # fscanf في لغة C: الدليل الشامل ## ملخص تعتبر الدالة `fscanf` في لغة C واحدة من الدوال الأساسية المستخدمة لقراءة البيانات من الملفات. تتيح هذه الدالة...
Meta Keywords: البيانات, file, fscanf, لقراءة, قراءة
-->

# fscanf في لغة C: الدليل الشامل

## ملخص
تعتبر الدالة `fscanf` في لغة C واحدة من الدوال الأساسية المستخدمة لقراءة البيانات من الملفات. تتيح هذه الدالة للمبرمجين قراءة صيغة محددة من البيانات، مما يجعلها مفيدة في معالجة الملفات النصية.

## الوثائق
### الغرض
تستخدم الدالة `fscanf` لقراءة البيانات من ملف باستخدام تنسيق محدد. يمكن استخدامها لقراءة أنواع مختلفة من البيانات مثل الأعداد الصحيحة، الأعداد العشرية، والسلاسل النصية.

### الاستخدام
```c
int fscanf(FILE *stream, const char *format, ...);
```
- **stream**: مؤشر إلى الملف الذي تريد قراءة البيانات منه.
- **format**: سلسلة تنسيق تحدد كيفية قراءة البيانات.
- **...**: مجموعة من المتغيرات التي سيتم تخزين البيانات المقروءة فيها.

### التفاصيل
- **قيمة الإرجاع**: تعيد `fscanf` عدد العناصر التي تم قراءتها بنجاح. إذا حدث خطأ، تعيد القيمة `EOF` (نهاية الملف).
- **تنسيق السلسلة**: يمكن أن تشمل سلسلة التنسيق أنواعًا مختلفة مثل `%d` للأعداد الصحيحة، `%f` للأعداد العشرية، و`s` للسلاسل النصية.
- **فحص الأخطاء**: من المهم دائمًا التحقق من القيمة التي تعيدها `fscanf` للتأكد من قراءة البيانات بشكل صحيح.

## الأمثلة
### مثال بسيط لقراءة عدد صحيح
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("data.txt", "r");
    int number;

    if (file != NULL) {
        fscanf(file, "%d", &number);
        printf("العدد المقروء: %d\n", number);
        fclose(file);
    } else {
        printf("فشل فتح الملف.\n");
    }

    return 0;
}
```

### مثال لقراءة سلسلة نصية وعدد
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("data.txt", "r");
    char name[20];
    int age;

    if (file != NULL) {
        fscanf(file, "%s %d", name, &age);
        printf("الاسم: %s، العمر: %d\n", name, age);
        fclose(file);
    } else {
        printf("فشل فتح الملف.\n");
    }

    return 0;
}
```

## الشرح
### المشاكل الشائعة
- **عدم التحقق من الأخطاء**: يمكن أن يؤدي عدم التحقق من القيمة المعادة إلى أخطاء في البرنامج. يُنصح دائمًا بفحص ما إذا كانت القراءة ناجحة.
- **التعامل مع البيانات الغير متوقعة**: إذا لم تتطابق البيانات الموجودة في الملف مع تنسيق القراءة، يمكن أن يؤدي ذلك إلى نتائج غير صحيحة.
- **تجاوز الحجم**: عند قراءة سلسلة نصية، تأكد من أن لديك مساحة كافية في المصفوفة لتجنب تجاوز السعة.

## ملخص من سطر واحد
تعتبر `fscanf` دالة قوية في لغة C لقراءة البيانات من الملفات بطريقة مهيكلة باستخدام تنسيق محدد.