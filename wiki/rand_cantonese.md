<!--
Meta Description: # C 語言中的 rand() 函數：隨機數生成的關鍵 ## 簡介 `rand()` 是 C 語言中的一個標準庫函數，用於生成隨機整數。這個函數在各種應用程序中都非常有用，例如模擬、遊戲開發和隨機數據生成。 ## 文檔 ### 目的 `rand()` 函數的主要目的是生成一個隨機整數，這個整數的範圍...
Meta Keywords: rand, include, srand, rand_max, stdlib
-->

# C 語言中的 rand() 函數：隨機數生成的關鍵

## 簡介
`rand()` 是 C 語言中的一個標準庫函數，用於生成隨機整數。這個函數在各種應用程序中都非常有用，例如模擬、遊戲開發和隨機數據生成。

## 文檔
### 目的
`rand()` 函數的主要目的是生成一個隨機整數，這個整數的範圍從 0 到 `RAND_MAX`，其中 `RAND_MAX` 是一個在 `<stdlib.h>` 中定義的常量，通常為 32767。

### 使用方法
要使用 `rand()` 函數，你需要包含 `<stdlib.h>` 標頭檔：

```c
#include <stdlib.h>
```

函數的基本語法如下：

```c
int rand(void);
```

### 參數
`rand()` 不接受任何參數。

### 返回值
該函數返回一個範圍在 0 到 `RAND_MAX` 的整數。

### 隨機數種子
為了生成可重複的隨機數序列，通常需要在使用 `rand()` 函數之前使用 `srand()` 函數來設置隨機數種子。這個種子通常是基於當前時間的：

```c
#include <time.h>

srand(time(NULL));
```

## 範例
以下是 `rand()` 函數的基本用法範例：

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    // 設置隨機數種子
    srand(time(NULL));

    // 生成 5 個隨機數
    for (int i = 0; i < 5; i++) {
        printf("%d\n", rand());
    }

    return 0;
}
```

在這個例子中，程式將輸出 5 個隨機生成的整數。

## 解釋
### 常見陷阱
1. **隨機數種子問題**：若不使用 `srand()` 設置隨機數種子，則每次運行程式時都會生成相同的隨機數序列。
2. **範圍限制**：`rand()` 生成的數字範圍限制在 0 到 `RAND_MAX`，如果需要其他範圍的隨機數，則需進行計算和調整。

### 注意事項
- `rand()` 函數的隨機性質可能會受到實現的影響，某些編譯器或環境中的 `rand()` 可能不是非常隨機。
- 如果需要更高質量的隨機數，可以考慮使用其他庫，如 `<random>`（C++）或其他專用的隨機數生成庫。

## 一句總結
`rand()` 是 C 語言中用於生成隨機整數的標準庫函數，需搭配 `srand()` 設置隨機數種子以獲得不同的隨機序列。