<!--
Meta Description: # C言語の「switch」文: 構文と使用法 ## 概要 C言語における「switch」文は、変数の値に基づいて異なるコードブロックを実行するための制御構造です。これにより、多数の条件を簡潔に処理できるため、特に複数の選択肢がある場合に便利です。 ## ドキュメンテーション ### 目的 「swi...
Meta Keywords: switch, case, break, printf, default
-->

# C言語の「switch」文: 構文と使用法

## 概要
C言語における「switch」文は、変数の値に基づいて異なるコードブロックを実行するための制御構造です。これにより、多数の条件を簡潔に処理できるため、特に複数の選択肢がある場合に便利です。

## ドキュメンテーション
### 目的
「switch」文は、特定の変数の値に基づいて異なるケースを選択し、それに対応する処理を実行するために使用されます。`if`文と比較して、より読みやすく、効率的なコードを書くことが可能です。

### 使用法
基本的な構文は次の通りです。

```c
switch (expression) {
    case constant1:
        // constant1に一致した場合の処理
        break;
    case constant2:
        // constant2に一致した場合の処理
        break;
    // 他のケース
    default:
        // どのケースにも一致しない場合の処理
}
```

- **expression**: 評価される式で、整数型または文字型である必要があります。
- **case constant**: 一致する可能性のある値を定義します。
- **break**: 各ケースの終了を示し、switch文から抜け出します。これがないと、次のケースが実行されることがあります。
- **default**: どのケースにも一致しなかった場合に実行される処理を定義します。

## 例
以下に「switch」文の基本的な使用例を示します。

```c
#include <stdio.h>

int main() {
    int value = 2;

    switch (value) {
        case 1:
            printf("値は1です。\n");
            break;
        case 2:
            printf("値は2です。\n");
            break;
        case 3:
            printf("値は3です。\n");
            break;
        default:
            printf("値は1、2、3のいずれでもありません。\n");
    }

    return 0;
}
```

このプログラムでは、`value`が2であるため、「値は2です。」が出力されます。

## 説明
### 一般的な落とし穴
- **break文の欠如**: 各caseの処理の後にbreak文を忘れると、次のcaseの処理も実行されてしまう「フォールスルー」状態になります。これは意図しない動作を引き起こすことがあります。
- **型の不一致**: `switch`文の式は整数型または文字型でなければならず、浮動小数点型や文字列を使用することはできません。
- **caseの重複**: 同じ値を持つ複数のcaseを定義することはできません。コンパイラはエラーを出します。

## 一文の要約
C言語の「switch」文は、変数の値に基づいて異なる処理を簡潔に選択するための強力な制御構造です。