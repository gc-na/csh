<!--
Meta Description: # C 언어의 fprintf 함수: 파일에 포맷된 데이터 출력하기 ## 개요 `fprintf` 함수는 C 프로그래밍 언어에서 파일 스트림에 포맷된 출력을 하는 데 사용됩니다. 이 함수는 다양한 데이터 타입을 문자열로 변환하여 지정된 파일에 기록할 수 있도록 해줍니다. ...
Meta Keywords: fprintf, file, 파일에, 함수는, 있습니다
-->

# C 언어의 fprintf 함수: 파일에 포맷된 데이터 출력하기

## 개요
`fprintf` 함수는 C 프로그래밍 언어에서 파일 스트림에 포맷된 출력을 하는 데 사용됩니다. 이 함수는 다양한 데이터 타입을 문자열로 변환하여 지정된 파일에 기록할 수 있도록 해줍니다. 

## 문서화
### 목적
`fprintf` 함수는 파일에 데이터를 포맷하여 출력할 수 있게 해주는 함수입니다. 이를 통해 사용자 정의 형식에 맞춰 데이터를 기록할 수 있습니다.

### 사용법
```c
int fprintf(FILE *stream, const char *format, ...);
```

- **stream**: 데이터가 기록될 파일 스트림입니다. 일반적으로 `fopen` 함수로 열린 파일 포인터입니다.
- **format**: 출력 형식을 지정하는 문자열입니다. 포맷 지정자는 `%d`, `%s`, `%f` 등 다양한 데이터 타입을 지원합니다.
- **...**: 추가적인 인수로, 포맷 문자열에 지정된 타입의 값들이 들어갑니다.

### 반환값
`fprintf` 함수는 성공적으로 출력된 문자 수를 반환합니다. 오류 발생 시에는 음수 값을 반환합니다.

## 예제
### 기본 사용 예제
```c
#include <stdio.h>

int main() {
    FILE *file = fopen("example.txt", "w");
    if (file == NULL) {
        perror("파일 열기 실패");
        return 1;
    }

    int age = 25;
    const char *name = "홍길동";

    fprintf(file, "이름: %s, 나이: %d\n", name, age);

    fclose(file);
    return 0;
}
```

### 출력 결과
위 코드를 실행하면 `example.txt` 파일에 다음과 같은 내용이 기록됩니다:
```
이름: 홍길동, 나이: 25
```

## 설명
### 흔히 발생하는 문제점
- **파일 포인터 오류**: `fopen`으로 파일을 열 때 실패하면 `NULL`이 반환됩니다. 이 경우 `fprintf`를 호출하면 오류가 발생합니다.
- **형식 지정자 불일치**: 포맷 문자열의 형식 지정자와 전달된 인수의 타입이 일치하지 않으면 예기치 않은 결과가 발생할 수 있습니다. 예를 들어, `%d`에 문자열을 전달하면 프로그램이 비정상 종료될 수 있습니다.
- **버퍼링 문제**: 출력이 즉시 파일에 기록되지 않을 수 있으며, `fflush(file)`를 사용하여 강제로 버퍼를 비워줄 필요가 있을 수 있습니다.

## 한 줄 요약
`fprintf` 함수는 C에서 파일 스트림에 포맷된 데이터를 출력하는 데 사용되는 강력한 도구입니다.