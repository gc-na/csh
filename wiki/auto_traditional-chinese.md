<!--
Meta Description: # C 語言中的 auto 關鍵字 ## 概述 `auto` 是 C 語言中的一個關鍵字，用於自動類型推斷和聲明變量的存儲類型。它是 C 語言中最早的存儲類型之一，但在現代 C 語言中，使用 `auto` 來顯式聲明變量的存儲類型已不再常見。 ## 文檔 ### 目的 `auto` 關鍵字的主要目的...
Meta Keywords: auto, 語言中, 語言中的, 語言中的一個關鍵字, 但在現代
-->

# C 語言中的 auto 關鍵字

## 概述
`auto` 是 C 語言中的一個關鍵字，用於自動類型推斷和聲明變量的存儲類型。它是 C 語言中最早的存儲類型之一，但在現代 C 語言中，使用 `auto` 來顯式聲明變量的存儲類型已不再常見。

## 文檔
### 目的
`auto` 關鍵字的主要目的是聲明變量的存儲類型為自動變量。自動變量是當前作用域內的局部變量，當其超出作用域時會被銷毀。這意味著這些變量的生命週期是局部的，並且它們的值在每次進入作用域時都會重新初始化。

### 用法
在 C 語言中，`auto` 關鍵字通常用於聲明變量，雖然在 C11 標準後，對於局部變量來說，這個關鍵字變得冗餘。變量的聲明格式如下：

```c
auto type variable_name;
```

然而，由於 C 語言中局部變量的預設存儲類型已經是自動的，因此開發者通常不需要明確使用 `auto`。

### 詳情
- `auto` 關鍵字不能用於全局變量，因為全局變量的生命週期是整個程序的運行時。
- `auto` 也不適用於靜態變量、寄存器變量或外部變量。
- 在 C11 標準中，`auto` 可以用來自動推斷變量的類型，但這一功能更常見於 C++11。

## 範例
以下是使用 `auto` 關鍵字的基本範例：

```c
#include <stdio.h>

int main() {
    auto int x = 10; // 聲明自動變量 x
    auto float y = 5.5; // 聲明自動變量 y
    
    printf("x: %d, y: %f\n", x, y);
    return 0;
}
```

在此範例中，變量 `x` 和 `y` 被聲明為自動變量，並且它們的生命週期僅限於 `main` 函數的執行期間。

## 解釋
在現代 C 語言中，使用 `auto` 來聲明變量並不常見，因為局部變量的默認存儲類型就是自動的。許多開發者可能會誤以為 `auto` 是必需的，但實際上，省略這個關鍵字不會影響變量的行為。

### 常見陷阱
- 將 `auto` 與 C++ 的變量類型推斷混淆。C 語言中的 `auto` 並不具備 C++ 中的類型推斷功能。
- 忽略了 `auto` 只能用於局部變量，並可能嘗試在全局範圍內使用，這將導致編譯錯誤。

## 一句總結
`auto` 是 C 語言中的一個關鍵字，用於聲明自動變量，但在現代 C 語言中已不常用。