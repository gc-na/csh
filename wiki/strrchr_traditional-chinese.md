<!--
Meta Description: # C 語言中的 strrchr 函數：最後出現的字符查找 ## 概述 `strrchr` 是 C 語言中的一個標準函數，用於查找字符串中最後一次出現的指定字符。這個函數對於需要反向搜尋字符的情況特別有用。 ## 文檔 ### 目的 `strrchr` 函數的主要目的在於從給定的字符串中尋找最後出現...
Meta Keywords: strrchr, null, char, str, result
-->

# C 語言中的 strrchr 函數：最後出現的字符查找

## 概述
`strrchr` 是 C 語言中的一個標準函數，用於查找字符串中最後一次出現的指定字符。這個函數對於需要反向搜尋字符的情況特別有用。

## 文檔
### 目的
`strrchr` 函數的主要目的在於從給定的字符串中尋找最後出現的指定字符，並返回指向該字符的指針。若指定字符不存在，則返回 `NULL`。

### 語法
```c
char *strrchr(const char *str, int c);
```

### 參數
- `str`：要搜尋的字符串，必須以空字符（`\0`）結尾。
- `c`：要查找的字符，作為整數類型傳入，通常是單引號括起來的字符。

### 返回值
- 若找到字符，返回指向字符最後一次出現位置的指針。
- 若未找到字符，返回 `NULL`。

### 使用範例
```c
#include <stdio.h>
#include <string.h>

int main() {
    const char *str = "Hello, world!";
    char *result;

    // 查找 'o' 的最後一次出現
    result = strrchr(str, 'o');
    if (result != NULL) {
        printf("最後一次出現 'o' 的位置: %s\n", result);
    } else {
        printf("'o' 不在字符串中。\n");
    }

    return 0;
}
```

## 解釋
### 常見陷阱
- **字符類型**：注意，`c` 參數應該是字符的整數表示（如 `'o'`），而不是字符串（如 `"o"`）。如果傳入字符串，可能會造成未定義行為。
- **不返回指針的情況**：若查找的字符在字符串中不存在，`strrchr` 將返回 `NULL`，因此在使用返回值之前，應該進行 `NULL` 檢查。

### 附加說明
- `strrchr` 是 C 標準庫的一部分，定義在 `<string.h>` 標頭文件中。
- 此函數使用的是從字符串末尾開始搜索的方式，因此在處理長字符串時，性能表現相對較好。

## 一句總結
`strrchr` 函數用於查找字符串中最後一次出現的指定字符，並返回其位置的指針。